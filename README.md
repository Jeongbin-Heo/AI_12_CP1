# AI_12_CP1(식료품 재구매 요인 분석 및 맞춤 식료품 추천 서비스 개발)
AI 부트캠프 12기 8조 - 안민영, 이유엘, 정태환, 허정빈

# 주제 선정 배경 및 데이터 선정
- 2022년 4월 통계청에서 발표한 온라인쇼핑 동향 통계자료를 살펴보면 음식료품 상품군이 총 온라인쇼핑 거래액에서 차지하는 비중이 가장 크므로
고객들의 음식료품 구매를 촉진하는 방안을 찾아낸다면 매출 증진에 큰 효과를 볼 것으로 예상하여 해당 주제를 선정
- 데이터셋 선정(Instacart Marktet Basket Data)
https://www.kaggle.com/c/instacart-market-basket-analysis

# 데이터 EDA를 통한 가설 설정
다양한 그래프를 통한 시각화 상관관계분석, 주성분분석, 연관분석 등을 실시

- 1. 제품을 구매하는 시간대와 재구매율은 연관성이 있다
- 2. 제품 카테고리와 재구매율은 연관성이 있다
- 3. 제품을 구매하는 요일과 재구매율은 연관성이 있다
- 4. 장바구니에 담은 물품 갯수와 재구매율은 연관성이 있다

# 재구매 예측 모델 설계 및 해석
타겟값(reordered)이 불균형하므로 Undersampling을 통해 균형을 맞춰줌
랜덤 포레스트 모델의 하이퍼파라미터를 튜닝한 결과 F1 Score가 약 0.8로 준수한 성능을 보임

모델 결과 해석
- 1. 단순히 인기가 많은 제품을 구매하는 경향이 있다
- 2. 이전에 구매한 경험이 있는 제품을 구매하는 경향이 있다

**-> 고객별로 이전에 구매한 제품과 연관이 있는 인기 제품을 추천하면 고객들의 제품 구매 촉진 가능하다고 해석**

# 제품 추천 모델 설계 및 서비스 구현
고려하였으나 성능이 좋지 않다고 판단한 모델들
- 해당 유저의 특정 주문 장바구니와 유사한 다른 주문의 장바구니를 추천하는 모델
- 유저가 많이 구매했던 상품을 다시 추천하는 모델

최종 추천 모델
- Collaborative Filtering을 통한 재주문율 기반 상품 추천 시스템(파이썬의 surprise 라이브러리 파일)

**-> 유저가 선호하는 카테고리 내에서 인기 상품을 추천하는 모델을 개발**  

추천 모델을 피클링하여 플라스크를 기반으로 웹 페이지를 통한 서비스 구현

# 기대효과
- 고객의 개인 구매 이력을 바탕으로 맞춤 제품을 추천하는 서비스 구축
- 고객 성향 분석을 통해서 장점 극대화 및 단점 보완을 통해 판매 효과 극대화
- 개별 고객에 대해서 구매율이 높을만한 제품 추천으로 구매를 촉진시켜 전체적인 매출 상승 기대
- 식음료품 상품군 뿐 아니라 다른 상품군에도 추천 모델을 학습시켜 고객의 구매 촉진 기대


# 한계점
- 구매 이력 데이터와 같은 개인정보는 크롤링을 통해 수집하기에는 부적절하다고 판단,  Kaggle에 공개되어 있는 Instacart 구매 이력 데이터 사용이 불가피하였음
- 불균형 데이터를 Undersampling하는 과정에서 데이터 제거로 인한 정보 손실
- 추후 배포를 통해 상용화 시도 필요
